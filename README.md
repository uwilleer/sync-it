# Sync-it

**Sync-it** — это монорепозиторий для микросервисной системы обработки, парсинга и анализа вакансий с интеграцией Telegram, GPT и других источников. Проект построен на Python 3.13+, использует Docker, PostgreSQL, Redis и современные подходы к разработке.

---

## Структура репозитория

- `services/` — микросервисы:
  - **api-gateway** — точка входа для внешних запросов, маршрутизация и аутентификация.
  - **gpt-api** — сервис генерации и обработки текстов с помощью GPT.
  - **scraper-api** — сервис парсер для имитации API различных платформ.
  - **telegram-bot** — Telegram-бот для взаимодействия с пользователями.
  - **vacancy-parser** — асинхронный парсер вакансий из различных источников.
  - **vacancy-processor** — сервис для анализа, фильтрации и хранения вакансий.

- `libs/common/` — общие библиотеки:
  - **database/** — база, engine, конфиги для работы с PostgreSQL.
  - **environment/** — переменные окружения, enums.
  - **logger/** — фабрика и конфиги логирования.
  - **redis/** — конфиги и утилиты для Redis.
  - **gateway/** — вспомогательные утилиты для шлюза.

- `infra/docker/` — инфраструктурные файлы Docker и docker-compose.
- `Makefile` — команды для разработки, миграций, тестов и запуска.
- `pyproject.toml` — корневые зависимости и настройки.

---

## Основные сервисы

- **api-gateway** — FastAPI шлюз, маршрутизация, авторизация.
- **gpt-api** — FastAPI сервис для работы с LLM (GPT).
- **scraper-api** — FastAPI сервис для работы с Telegram API, Habr API.
- **telegram-bot** — асинхронный бот на aiogram.
- **vacancy-parser** — Celery-парсер вакансий, поддержка pg_trgm, асинхронные задачи.
- **vacancy-processor** — сервис для анализа, фильтрации, поиска дубликатов, интеграции с ML.

---

## Общие библиотеки (libs/common)
- **database** — engine, конфиги, логирование, поддержка alembic.
- **environment** — enums и конфиги окружения.
- **logger** — фабрика логгеров, уровни логирования.
- **redis** — конфиги и утилиты для работы с Redis.
- **gateway** — вспомогательные утилиты для шлюза.

---

## Инфраструктура
- **PostgreSQL** — основная БД, поддержка pg_trgm для поиска похожих вакансий.
- **Redis** — брокер для Celery и кэш.
- **Flower** — мониторинг задач Celery.
- **Docker Compose** — оркестрация сервисов.

---

## Разработка и тестирование
- `make lint` — запуск линтеров и mypy.
- `make lint-fix` — автоисправление кода.
- `make add p=<package> s=<service>` — добавить зависимость в сервис.
